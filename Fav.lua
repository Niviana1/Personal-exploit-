-- LocalScript Hub with Draggable Window (Mobile Friendly)

local function loadScript(scriptUrl)
    local success, scriptCode = pcall(game.HttpGet, game, scriptUrl)
    if success then
        local scriptFunction = loadstring(scriptCode)
        if scriptFunction then
            scriptFunction()
        else
            warn("Failed to load script from URL:", scriptUrl)
        end
    else
        warn("Failed to fetch script from URL:", scriptUrl)
    end
end

local player = game.Players.LocalPlayer
local guiService = game:GetService("GuiService")
local userInputService = game:GetService("UserInputService")

-- Create GUI for the draggable window
local hubGui = Instance.new("ScreenGui")
hubGui.Parent = player.PlayerGui

local draggableFrame = Instance.new("Frame")
draggableFrame.Parent = hubGui
draggableFrame.Size = UDim2.new(0, 120, 0, 160)
draggableFrame.Position = UDim2.new(0, 10, 0, 10)
draggableFrame.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
draggableFrame.BorderSizePixel = 0

-- Create close button
local closeButton = Instance.new("TextButton")
closeButton.Parent = draggableFrame
closeButton.Position = UDim2.new(1, -20, 0, 0)
closeButton.Size = UDim2.new(0, 20, 0, 20)
closeButton.Text = "X"
closeButton.MouseButton1Click:Connect(function()
    hubGui:Destroy()
end)

-- Create buttons inside the draggable window
local button1 = Instance.new("TextButton")
button1.Parent = draggableFrame
button1.Position = UDim2.new(0, 10, 0, 30)
button1.Size = UDim2.new(0, 100, 0, 30)
button1.Text = "aim bot"
button1.MouseButton1Click:Connect(function()
    loadScript('https://raw.githubusercontent.com/PABLOSleuth2/Scripts1/main/RobloxScripts/TEST/aimbot_v2.lua')
end)

local button2 = Instance.new("TextButton")
button2.Parent = draggableFrame
button2.Position = UDim2.new(0, 10, 0, 70)
button2.Size = UDim2.new(0, 100, 0, 30)
button2.Text = "hitbox"
button2.MouseButton1Click:Connect(function()
    loadScript("https://raw.githubusercontent.com/Vcsk/RobloxScripts/main/HitboxExpander.lua")
end)

local button3 = Instance.new("TextButton")
button3.Parent = draggableFrame
button3.Position = UDim2.new(0, 10, 0, 110)
button3.Size = UDim2.new(0, 100, 0, 30)
button3.Text = "death zone"
button3.MouseButton1Click:Connect(function()
    loadScript('https://soggyhubv2.vercel.app/Roblox/DeathZone.lua')
end)

-- Make the window draggable on touch devices
local touchStarted, dragStart, startPos

draggableFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch then
        touchStarted = true
        dragStart = input.Position
        startPos = draggableFrame.Position
    end
end)

userInputService.InputChanged:Connect(function(input)
    if touchStarted and input.UserInputType == Enum.UserInputType.Touch then
        local delta = input.Position - dragStart
        draggableFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

userInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch then
        touchStarted = false
    end
end)
