local translations = {
    ["\\b(child)\\b"] = "cub",
    ["\\b(awesome)\\b"] = "pawsome",
    ["\\b(awful)\\b"] = "pawful",
    ["\\b(bite)\\b"] = "nom",
    ["\\b(bulge)\\b"] = "bulgy-wulgy",
    ["\\b(butthole)\\b"] = "tailhole",
    ["\\b(bye)\\b"] = "bai",
    ["\\b(celebrity)\\b"] = "popufur",
    ["\\b(cheese)\\b"] = "sergal",
    ["\\b(computer)\\b"] = "protogen",
    ["\\b(robot)\\b"] = "protogen",
    ["\\b(cyborg)\\b"] = "protogen",
    ["\\b(cum)\\b"] = "cummy wummy~",
    ["\\b(disease)\\b"] = "pathOwOgen",
    ["\\b(dog)\\b"] = "good boy",
    ["\\b(dragon)\\b"] = "derg",
    ["\\b(eat)\\b"] = "vore",
    ["\\b(f\\*\\*)\\b"] = "fluff",
    ["\\b(father)\\b"] = "daddy",
    ["\\b(foot)\\b"] = "footpaw",
    ["\\b(for)\\b"] = "fur",
    ["\\b(hand)\\b"] = "paw",
    ["\\b(hell)\\b"] = "hecc",
    ["\\b(hi)\\b"] = "hai",
    ["\\b(hyena)\\b"] = "yeen",
    ["\\b(kiss)\\b"] = "lick",
    ["\\b(lmao)\\b"] = "hehe~",
    ["\\b(love)\\b"] = "wuv",
    ["\\b(mouth)\\b"] = "maw",
    ["\\b(naughty)\\b"] = "knotty",
    ["\\b(not)\\b"] = "knot",
    ["\\b(perfect)\\b"] = "purrfect",
    ["\\b(persona)\\b"] = "fursona",
    ["\\b(pervert)\\b"] = "furvert",
    ["\\b(police)\\b"] = "pawlice",
    ["\\b(police department)\\b"] = "PAW Patrol",
    ["\\b(porn)\\b"] = "yiff",
    ["\\b(roar)\\b"] = "rawr",
    ["\\b(shout)\\b"] = "awoo",
    ["\\b(slut)\\b"] = "fox",
    ["\\b(source)\\b"] = "sauce",
    ["\\b(straight)\\b"] = "gay",
    ["\\b(tale)\\b"] = "tail",
    ["\\b(the)\\b"] = "teh",
    ["\\b(this)\\b"] = "dis",
    ["\\b(toe)\\b"] = "toe bean",
    ["\\b(what)\\b"] = "wat",
    ["\\b(with)\\b"] = "wif",
    ["\\b(you)\\b"] = "chu",
    ["\\b(your)\\b"] = "ur",
    ["(forgive me father, I have sinned)"] = "sowwy daddy~ i've been naughty",
    ["(have sex with)"] = "yiff",
    ["(old person)"] = "greymuzzle",
    ["(what's this)"] = "OwO what's this",
    ["(you are)"] = "chu is",
    [","] = "~",
    [";"] = "~",
    ["!"] = "owo!",
    ["?"] = "uwu?",
    [":\)"] = ":3",
    [":O"] = "OwO",
    ["\( ͡ °͜ʖ ͡ °\)"] = "OwO",
    [":D"] = "UwU",
    ["XD"] = "X3"
}

local function translateMessage(message)
    -- Translate words
    for pattern, translation in pairs(translations) do
        message = string.gsub(message, pattern, translation)
    end

    -- Translate emoticons
    message = string.gsub(message, ":)", ":3")
    message = string.gsub(message, ":O", "OwO")
    message = string.gsub(message, "\( ͡ °͜ʖ ͡ °\)", "OwO")
    message = string.gsub(message, ":D", "UwU")
    message = string.gsub(message, "XD", "X3")
    message = string.gsub(message, "😀", "😺")

    -- Add semi-randomly placed owos and uwus
    message = string.gsub(message, "%s+", function(space)
        return space .. (math.random(1, 10) > 5 and " owo" or " uwu")
    end)

    return message
end

local mt = getrawmetatable(game)
local oldNamecall = mt.__namecall

setreadonly(mt, false)

mt.__namecall = newcclosure(function(self, ...)
    local args = {...}
    if getnamecallmethod() == "InvokeServer" and tostring(self) == "SayMessageRequest" and args[1] then
        args[1] = translateMessage(args[1])
    end
    return oldNamecall(self, unpack(args))
end)

setreadonly(mt, true)
