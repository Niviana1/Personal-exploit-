local function translateSentence(sentence)
    local translations = {
        -- Words
        ["ahh"] = "murr",
        ["awesome"] = "pawsome",
        ["awful"] = "pawful",
        ["bite"] = "nom",
        ["bulge"] = "bulgy-wulgy",
        ["butthole"] = "tailhole",
        ["bye"] = "bai",
        ["celebrity"] = "popufur",
        ["cheese"] = "sergal",
        ["child"] = "cub",
        ["computer"] = "protogen",
        ["robot"] = "protogen",
        ["cyborg"] = "protogen",
        ["cum"] = "cummy wummy~",
        ["disease"] = "pathOwOgen",
        ["dog"] = "good boy",
        ["dragon"] = "derg",
        ["eat"] = "vore",
        ["f***"] = "fluff",
        ["father"] = "daddy",
        ["foot"] = "footpaw",
        ["for"] = "fur",
        ["hand"] = "paw",
        ["hell"] = "hecc",
        ["hi"] = "hai",
        ["hyena"] = "yeen",
        ["kiss"] = "lick",
        ["lmao"] = "hehe~",
        ["love"] = "wuv",
        ["mouth"] = "maw",
        ["naughty"] = "knotty",
        ["not"] = "knot",
        ["perfect"] = "purrfect",
        ["persona"] = "fursona",
        ["pervert"] = "furvert",
        ["police"] = "pawlice",
        ["police department"] = "PAW Patrol",
        ["porn"] = "yiff",
        ["roar"] = "rawr",
        ["shout"] = "awoo",
        ["slut"] = "fox",
        ["source"] = "sauce",
        ["straight"] = "gay",
        ["tale"] = "tail",
        ["the"] = "teh",
        ["this"] = "dis",
        ["toe"] = "toe bean",
        ["what"] = "wat",
        ["with"] = "wif",
        ["you"] = "chu",
        ["your"] = "ur",
        -- Phrases
        ["forgive me father, I have sinned"] = "sowwy daddy~ i've been naughty",
        ["have sex with"] = "yiff",
        ["old person"] = "greymuzzle",
        ["what's this"] = "OwO what's this",
        ["you are"] = "chu is",
        -- Symbols
        [","] = "~",
        [";"] = "~",
        ["!"] = "owo!",
        ["?"] = "uwu?",
        [":)"] = ":3",
        [":O"] = "OwO",
        ["( Õ° ¬∞Õú ñ Õ° ¬∞)"] = "OwO",
        [":D"] = "UwU",
        ["üçÜ"] = "üíÑ",
        ["üë£"] = "üêæ"
    }
    
    local translatedSentence = ""
    local words = sentence:lower():gsub("%s+", " "):gsub("(%a+)", translations)
    for word in words:gmatch("%S+") do
        translatedSentence = translatedSentence .. word .. " "
    end
    translatedSentence = translatedSentence:gsub("[rR]", "w"):gsub("[lL]", "w")
    translatedSentence = translatedSentence:gsub("%s+", function(match)
        if math.random() < 0.1 then
            return match .. " uwu "
        elseif math.random() < 0.1 then
            return match .. " OwO "
        else
            return match .. " "
        end
    end)
    translatedSentence = translatedSentence:gsub("  ", " uwu ")
    return translatedSentence
end

local function onMessageSent(message)
    local translatedMessage = translateSentence(message)
    local modifiedMessage = "Furry translation: " .. translatedMessage
    game.Players.LocalPlayer:Chat(modifiedMessage)
end

game.Players.PlayerAdded:Connect(function(player)
    player.Chatted:Connect(function(message)
        onMessageSent(message)
    end)
end)
