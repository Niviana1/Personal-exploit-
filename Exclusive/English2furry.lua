-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Name = "LingoJamTranslator"
gui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.2, 0, 0.3, 0)
frame.Position = UDim2.new(0.5, 0, 0.5, 0)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
frame.BorderSizePixel = 2
frame.BorderColor3 = Color3.fromRGB(50, 50, 50)
frame.ClipsDescendants = true -- Ensure children don't render outside frame boundaries
frame.Active = true
frame.Parent = gui -- Moved frame parent assignment here

-- Title Bar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 30)
titleBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
titleBar.BorderSizePixel = 0
titleBar.Parent = frame

-- Title Text
local titleText = Instance.new("TextLabel")
titleText.Size = UDim2.new(1, 0, 1, 0)
titleText.Position = UDim2.new(0, 0, 0, 0)
titleText.BackgroundTransparency = 1
titleText.Text = "English 2 Flurries Translator by cocacola9999gg"
titleText.Font = Enum.Font.SourceSans
titleText.TextSize = 14
titleText.TextColor3 = Color3.fromRGB(255, 255, 255)
titleText.Parent = titleBar

local function onInput(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        local dragStart = input.Position
        local startPos = frame.Position
        local dragging = true

        local function updateInput(input)
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end

        local function stopInput()
            dragging = false
        end

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                stopInput()
            end
        end)

        input.Changed:Connect(updateInput)
    end
end

titleBar.InputBegan:Connect(onInput) -- Changed this line to connect the InputBegan event to the titleBar

-- Input TextBox
local inputTextBox = Instance.new("TextBox")
inputTextBox.Size = UDim2.new(1, 0, 0.5, -30)
inputTextBox.Position = UDim2.new(0, 0, 0.5, 0)
inputTextBox.PlaceholderText = "Enter text here..."
inputTextBox.ClearTextOnFocus = false
inputTextBox.MultiLine = true
inputTextBox.Font = Enum.Font.SourceSans
inputTextBox.TextSize = 18
inputTextBox.TextColor3 = Color3.fromRGB(50, 50, 50)
inputTextBox.BackgroundTransparency = 1 -- Make transparent to show frame background
inputTextBox.Parent = frame

-- Output TextBox
local outputTextBox = Instance.new("TextBox")
outputTextBox.Size = UDim2.new(1, 0, 0.5, -30)
outputTextBox.Position = UDim2.new(0, 0, 1, -30)
outputTextBox.PlaceholderText = "Translation will appear here..."
outputTextBox.ClearTextOnFocus = false
outputTextBox.MultiLine = true
outputTextBox.Font = Enum.Font.SourceSans
outputTextBox.TextSize = 18
outputTextBox.TextColor3 = Color3.fromRGB(50, 50, 50)
outputTextBox.BackgroundTransparency = 1 -- Make transparent to show frame background
outputTextBox.Parent = frame

-- Copy Button
local copyButton = Instance.new("TextButton")
copyButton.Size = UDim2.new(0.5, 0, 0.1, 0)
copyButton.Position = UDim2.new(0.25, 0, 1, -15)
copyButton.Text = "Copy"
copyButton.Font = Enum.Font.SourceSans
copyButton.TextSize = 18
copyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
copyButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
copyButton.BorderSizePixel = 0
copyButton.AutoButtonColor = false -- Disable default button color change on click
copyButton.Parent = frame

-- Add visual feedback to the copy button
copyButton.MouseEnter:Connect(function()
    copyButton.BackgroundColor3 = Color3.fromRGB(120, 120, 120)
end)

copyButton.MouseLeave:Connect(function()
    copyButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
end)

-- Translator rule
local function translateToFurry(text)
    -- Define translation rules
    local translations = {
        ["ahh"] = "murr",
        ["awesome"] = "pawsome",
        ["awful"] = "pawful",
        ["bite"] = "nom",
        ["bulge"] = "bulgy-wulgy",
        ["butthole"] = "tailhole",
        ["bye"] = "bai",
        ["celebrity"] = "popufur",
        ["cheese"] = "sergal",
        ["child"] = "cub",
        ["computer"] = "protogen",
        ["cum"] = "cummy wummy~",
        ["disease"] = "pathOwOgen",
        ["dog"] = "good boy",
        ["dragon"] = "derg",
        ["eat"] = "vore",
        ["f***"] = "fluff",
        ["father"] = "daddy",
        ["foot"] = "footpaw",
        ["for"] = "fur",
        ["hand"] = "paw",
        ["hell"] = "hecc",
        ["hi"] = "hai",
        ["hyena"] = "yeen",
        ["kiss"] = "lick",
        ["lmao"] = "hehe~",
        ["love"] = "wuv",
        ["mouth"] = "maw",
        ["naughty"] = "knotty",
        ["not"] = "knot",
        ["perfect"] = "purrfect",
        ["persona"] = "fursona",
        ["pervert"] = "furvert",
        ["police"] = "pawlice",
        ["police department"] = "PAW Patrol",
        ["porn"] = "yiff",
        ["roar"] = "rawr",
        ["shout"] = "awoo",
        ["slut"] = "fox",
        ["source"] = "sauce",
        ["straight"] = "gay",
        ["tale"] = "tail",
        ["the"] = "teh",
        ["this"] = "dis",
        ["toe"] = "toe bean",
        ["what"] = "wat",
        ["with"] = "wif",
        ["you"] = "chu",
        ["your"] = "ur",
        ["forgive me father, I have sinned"] = "sowwy daddy~ i've been naughty",
        ["have sex with"] = "yiff",
        ["old person"] = "greymuzzle",
        ["what's this"] = "OwO what's this",
        ["you are"] = "chu is",
        ["r"] = "w",
        ["l"] = "w",
        [","] = "~",
        [";"] = "~",
        ["!"] = "owo!",
        ["?"] = "uwu?",
        [":)"] = ":3",
        [":O"] = "OwO",
        ["( ͡ °͜ʖ ͡ °)"] = "OwO",
        [":D"] = "UwUp",
        ["XD"] = "X3",
        ["😀"] = "😺",
        ["😃"] = "😸",
        ["😄"] = "😸",
        ["😁"] = "😸",
        ["😆"] = "😹",
        ["😅"] = "😹",
        ["😂"] = "😹",
        ["🤣"] = "😹",
        ["🙂"] = "😺",
        ["🙃"] = "😺",
        ["😉"] = "😼",
        ["😊"] = "😸",
        ["😇"] = "😇",
        ["😍"] = "😻",
        ["🥰"] = "😻",
        ["😘"] = "😽",
        ["😗"] = "😽",
        ["😚"] = "😽",
        ["😙"] = "😽",
        ["😋"] = "😸",
        ["😛"] = "😸",
        ["😜"] = "😼",
        ["😝"] = "😼",
        ["🤪"] = "😼",
        ["😎"] = "😼",
        ["🤓"] = "😼",
        ["🧐"] = "😼",
        ["😏"] = "😼",
        ["😒"] = "😾",
        ["😞"] = "😿",
        ["😔"] = "😿",
        ["😟"] = "😿",
        ["😕"] = "😿",
        ["🙁"] = "😾",
        ["😣"] = "😾",
        ["😖"] = "😾",
        ["😫"] = "😿",
        ["😩"] = "😿",
        ["🥺"] = "😿",
        ["😢"] = "😿",
        ["😭"] = "😿",
        ["😤"] = "😾",
        ["😠"] = "😾",
        ["😡"] = "😾",
        ["🤬"] = "😾",
        ["🍆"] = "💄",
        ["👣"] = "🐾",
    }
    
    -- Apply translations
    text = text:gsub("%S+", translations)
    
    -- Convert "R" and "L" to "W"
    text = text:gsub("[RrLl]", "w")
    
    return text
end

-- Function to update output text with translation
local function updateOutput()
    local input = inputTextBox.Text
    local translatedText = translateToFurry(input)
    outputTextBox.Text = translatedText
end

-- Update output whenever input text changes
inputTextBox:GetPropertyChangedSignal("Text"):Connect(updateOutput)

-- Function to copy output to clipboard
copyButton.MouseButton1Click:Connect(function()
    if outputTextBox.Text ~= "" then
        game:GetService("GuiService"):CopyToClipboard(outputTextBox.Text)
    end
end)
